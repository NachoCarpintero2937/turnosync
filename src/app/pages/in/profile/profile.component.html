<div class="profile-container" *ngIf="!loading">
    <div class="profile-header">
        <div class="cover-photo"></div>

        <div class="profile-info">
            <div class="profile-avatar">
                <app-iniciales [text]="client?.name" size="70px" color="#e1b6b6" fuente="white" width="150px"
                    height="150px">
                </app-iniciales>
            </div>

            <div class="profile-name">
                <h1>{{client?.name}}
                    <span class="appointment-count">({{quantityShifts?.show.length}})</span>
                </h1>
            </div>


        </div>
    </div>

    <div class="profile-content">
        <div class="info-section">
            <mat-card>
                <mat-card-content>
                    <div class="info-item">
                        <span class="info-label">Fecha de nacimiento</span>
                        <span class="info-value">{{client?.date_birthday | date: 'dd/MM/yyyy'}}</span>
                    </div>

                    <mat-divider></mat-divider>

                    <div class="info-item">
                        <span class="info-label">Ãšltimo turno</span>
                        <span class="info-value">{{shifts[0]?.date_shift | date: 'dd/MM/yyyy HH:mm'}}</span>
                    </div>

                    <mat-divider></mat-divider>

                    <div class="info-item">
                        <span class="info-label">Pendientes</span>
                        <span class="info-value">
                            <mat-chip color="warn" selected>{{quantityShifts?.pending?.length}}</mat-chip>
                        </span>
                    </div>

                    <mat-divider></mat-divider>

                    <div class="info-item">
                        <span class="info-label">Cancelados</span>
                        <span class="info-value">
                            <mat-chip color="accent" selected>{{quantityShifts?.cancelled?.length}}</mat-chip>
                        </span>
                    </div>
                </mat-card-content>
            </mat-card>
        </div>

        <div class="activity-section">
            <mat-card>
                <mat-card-header>
                    <mat-card-title>Actividad</mat-card-title>
                </mat-card-header>

                <mat-card-content>
                    <cdk-virtual-scroll-viewport itemSize="80" class="activity-viewport">
                        <mat-nav-list>
                            <ng-container *cdkVirtualFor="let shift of shifts">
                                <a mat-list-item [routerLink]="['/in/shifts/view-shift']"
                                    [queryParams]="{id: shift?.id}" [ngClass]="{
                                       'status-show': shift?.status === 1,
                                       'status-pending': shift?.status === 0,
                                       'status-cancelled': shift?.status === 2
                                   }">
                                    <div class="activity-item">
                                        <div class="activity-avatar">
                                            <app-iniciales [text]="shift?.service?.name" size="11px" color="#e1b6b6"
                                                fuente="white" width="40px" height="40px">
                                            </app-iniciales>
                                        </div>

                                        <div class="activity-details">
                                            <div class="activity-main">
                                                <div class="activity-datetime">
                                                    {{shift?.date_shift | date: 'dd/MM/yyyy HH:mm'}}
                                                </div>
                                                <div class="activity-service">
                                                    {{shift?.service?.name}}
                                                </div>
                                            </div>

                                            <div class="activity-description" [class.empty]="!shift?.description">
                                                {{shift?.description || 'Sin observaciones'}}
                                            </div>
                                        </div>
                                    </div>
                                </a>
                                <mat-divider></mat-divider>
                            </ng-container>
                        </mat-nav-list>
                    </cdk-virtual-scroll-viewport>
                </mat-card-content>
            </mat-card>
        </div>
    </div>