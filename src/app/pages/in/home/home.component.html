<div class="home-wrapper">
    <div class="dashboard-container">
        <div class="date-navigation">
            <mat-card>
                <div class="navigation-content">
                    <button mat-icon-button class="nav-button" (click)="BeforeDay()" matTooltip="Día anterior">
                        <mat-icon>chevron_left</mat-icon>
                    </button>

                    <div class="date-display" (click)="picker.open()">
                        <div class="date-text">
                            {{getFormattedDate()}}
                        </div>
                    </div>

                    <button mat-icon-button class="nav-button" (click)="nextDay()" matTooltip="Día siguiente">
                        <mat-icon>chevron_right</mat-icon>
                    </button>

                    <button mat-icon-button *ngIf="showResetDate" class="reset-button" (click)="goDate()"
                        matTooltip="Ir a hoy">
                        <mat-icon>close</mat-icon>
                    </button>
                </div>

                <!-- Hidden datepicker input -->
                <input [matDatepicker]="picker" (dateChange)="setDate($event)" class="date-input">

                <mat-datepicker #picker (monthSelected)="getShifts()" [dateClass]="dateClass"
                    (yearSelected)="getShifts()">
                </mat-datepicker>
            </mat-card>

            <mat-progress-bar *ngIf="loading" mode="indeterminate" class="loading-indicator">
            </mat-progress-bar>
        </div>

        <div class="dashboard-content">
            <!-- Info Cards -->
            <app-info-cards [data]="shifts"></app-info-cards>

            <!-- Services Today -->
            <app-services-today [shifts]="shifts"></app-services-today>

            <!-- Birthdays -->
            <app-clients-birthday *ngIf="clients?.length" [clients]="clients">
            </app-clients-birthday>

            <!-- Employees -->
            <app-employees [shifts]="shifts" (shiftEvent)="getShifts()" (checked)="selectedShift($event)">
            </app-employees>
        </div>

        <!-- Action Buttons -->
        <div class="action-buttons">
            <button mat-fab color="primary" *ngIf="shiftIdSelected?.length" (click)="goToViewShifts()"
                matTooltip="Ver turnos">
                <span class="material-icons text-white">event</span>
            </button>

            <button mat-fab color="primary" [disabled]="submitUrl" (click)="createUrl()" matTooltip="Compartir">
                <span class="material-icons text-white">share</span>
            </button>

            <button mat-fab color="primary" *ngIf="date" (click)="addShift()" matTooltip="Agregar turno">
                <span class="material-icons text-white">add</span>
            </button>
        </div>
    </div>
</div>